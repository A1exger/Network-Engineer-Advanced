# Развертывание коммутируемой сети с резервными каналами
### Топология
#### ![Topologie](https://user-images.githubusercontent.com/99610266/166811466-6b24a6a6-4188-4669-8ae1-bd3bf489c79e.png)
### 1.	Создание сети и настройка основных параметров устройства
##### Была произведена стандартная настройка коммутаторов.
##### Проверка связи между коммутаторами.
##### Успешно ли выполняется эхо-запрос от коммутатора S1 на коммутатор S2?	
##### Успешно ли выполняется эхо-запрос от коммутатора S1 на коммутатор S3?	
##### Успешно ли выполняется эхо-запрос от коммутатора S2 на коммутатор S3?
##### Все эхо-запросы были успешны. Связь есть между всеми коммутаторами.
##### ![1](https://user-images.githubusercontent.com/99610266/166812190-3cd9e8bc-4413-4d95-8cb6-00d2ca417aa2.png)
### 2	Определение корневого моста
#### После настройки подключенных портов и включение портов Fa-0/2, Fa-0/4 на всех коммутаторах. Получился данный результат. Был выбран корневой мост и заблокированный порт.
#### ![2](https://user-images.githubusercontent.com/99610266/166817702-bdb097e9-0750-47f6-850a-04714a2591d6.png)
#### Какой коммутатор является корневым мостом? *Корневым мостом стал коммутатор S3.*
#### Почему этот коммутатор был выбран протоколом spanning-tree в качестве корневого моста? *Т.к Bridge ID у всех одинаковый, был выбран по наименьшему МАС-адресу.*
#### Какие порты на коммутаторе являются корневыми портами? *На S1 Fa-0/4 корневой, т.к смотрит в сторону корневого. На S2 Fa-0/4.* 
#### Какие порты на коммутаторе являются назначенными портами? *На S1 Fa-0/2, S3 - Fa-0/2,Fa-0/4.*
#### Какой порт отображается в качестве альтернативного и в настоящее время заблокирован? *S2 Fa-0/2*
#### Почему протокол spanning-tree выбрал этот порт в качестве невыделенного (заблокированного) порта? *Потому что до рута от этого интерфейса стоимость будет выше(хотя почему то там не отображается, то есть 19 до S1. И от S1 до рута еще 19 будет). В этом сегменте сети на коммутаторе S1 mac addres меньше, чем на S2 поэтому порт на коммутаторе S1 назначенный, а на S2 порт переходит в заблокированный. Другой порт на S2 смотрит на рута. На S1 тоже один из портов смотрит на рута. И одном сегменте не может быть больше одного назначенного порта.*
#### ![2](https://user-images.githubusercontent.com/99610266/167296385-ca3d4878-e5ba-413a-8173-61034faf6630.png)
### 2. Наблюдение за процессом выбора протоколом STP, исходя из стоимости портов.
#### Step 1 Определение коммутатора с заблокированным портом.
##### Как ранее было выяснено. Коммутатор с заблокированным портом у нас S2 Fa-0/2.
#### Step 2 Изменение стоимости порта.
Здесь у меня по какой то причине не изменилась стоимость порта. Пробовал выключать интерфейс и менять стоимость - не помогло. Перезагружал коммутатор - не помогло.
Поменял на RSTP - не помогло. Скриншот прикладываю. Но сама суть понятна. Что при изменение стоимости порта, заблокированный и назначенный порты должны поменяться, тк у одного из них где стоимость меньше маршрут будет выглядить приоритетнее.
##### ![3](https://user-images.githubusercontent.com/99610266/167298964-2e760053-9041-4224-aa1c-72045a2bb7a5.png)
### 4. Наблюдение за процессом выбора протоколом STP порта, исходя из проритктов порта.
#### Включил остальные порты на коммутаторах, картина следующая появилась.
![4](https://user-images.githubusercontent.com/99610266/167299819-d58fb3ec-dd84-4ce4-b4b7-9f1908d3759e.png)
#### Какой порт выбран протоколом STP в качестве порта корневого моста на каждом коммутаторе некорневого моста? *S1 - Fa-0/3; S2- Fa-0/3.*
#### Почему протокол STP выбрал эти порты в качестве портов корневого моста на этих коммутаторах? *Они смотрят на корневой коммутатор*
#### 	Вопросы для повторения
#### 1.	Какое значение протокол STP использует первым после выбора корневого моста, чтобы определить выбор порта? *Стоимость (Cost)*
#### 2.	Если первое значение на двух портах одинаково, какое следующее значение будет использовать протокол STP при выборе порта? *Bridge ID*
#### 3.	Если оба значения на двух портах равны, каким будет следующее значение, которое использует протокол STP при выборе порта? *Port ID*
